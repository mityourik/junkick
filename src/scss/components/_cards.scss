// =============================================
// КАРТОЧКИ (Mobile-First)
// =============================================

@use '../abstracts' as *;

.card {
  @include card;

  background-color: color(background);
  border-color: color(border);
  padding: 6px;
  border-radius: 0.1rem;

  &__header {
    border-bottom: 1px solid color(border);
    margin-bottom: space(xs);
    display: flex;
    justify-content: space-between;
  }

  .card__header-wanted-roles {
    display: flex;
    gap: space(xs);
    flex-wrap: wrap;
    max-width: 67%;
  }

  &__status {
    display: flex;
    margin-bottom: 5px;

    &-looking-for {
      @include text(xs, normal, text-muted);
      display: flex;
      align-items: center;
      max-width: 33%;
      margin-bottom: 0px;
    }
  }

  &__title {
    @include heading(lg, semibold);
    margin-bottom: 0;
  }

  &__subtitle {
    @include text(sm, normal, text-muted);
    margin-bottom: 0;
  }

  &__body {
    line-height: line-height(relaxed);
  }

  &__footer {
    padding-top: space(sm);
    border-top: 1px solid color(border);
    margin-top: space(md);
    // Declarations placed before mixin to avoid mixed-decls warnings
    @include flex-between;
  }

  // Варианты карточек
  &--hover {
    cursor: pointer; // declaration first
    @include hover-lift;
  }

  &--link {
    display: block;
    color: inherit;
    text-decoration: none;
    cursor: pointer;
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease;

    &:hover {
      color: inherit;
      transform: translateY(-2px);
      box-shadow: shadow(md);
    }

    &:focus-visible {
      outline: 2px solid color(primary);
      outline-offset: 2px;
    }
  }

  &--bordered {
    border: 2px solid color(border);
  }

  // Цветные варианты границ
  &--border-primary {
    border-color: color(primary);
  }

  &--border-success {
    border-color: color(success);
  }

  &--border-warning {
    border-color: color(warning);
  }

  &--border-danger {
    border-color: color(danger);
  }

  &--shadow-lg {
    box-shadow: shadow(lg);
  }

  &--rounded {
    border-radius: radius(xl);
  }

  // Унифицированный вид карточек проектов (используется на главной и странице проектов)
  &--project {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100%;
    height: 160px; // фиксированная высота — карточки не скачут
    overflow: hidden;
    font-size: 0.5rem; // шрифт в 2 раза меньше

    .card__header {
      align-items: flex-start;
      font-size: 0.5rem;
      gap: space(xs);
      flex-wrap: wrap;
    }

    .card__status {
      font-size: 0.5rem;
      margin-bottom: 0;
    }

    .card__status-looking-for {
      font-size: 0.5rem;
      max-width: 100%;
      white-space: normal; // не обрезаем
      overflow: visible;
      flex: 1 1 100%; // отдельной строкой на всю ширину
    }

    .card__title {
      // Примерно в 2 раза меньше, с обрезкой на 2 строки
      font-size: 0.5625rem; // половина от 1.125rem (lg)
      line-height: 1.2;
      @include text-truncate-lines(2);
      margin-bottom: 0;
      word-break: break-word;
    }

    .card__body {
      overflow: hidden;
      flex: 1 1 auto;

      > div {
        @include text-truncate; // строки в одну строку с троеточием
        color: color(text-muted);
      }

      .card__meta + .card__meta {
        margin-top: space(xs);
      }
    }
  }

  // Модификатор без рамки — для страницы проекта
  &--no-border {
    border: none;
    box-shadow: none;
    padding: 0 20px;
  }
}

// Сетка карточек
.cards-grid {
  @include grid-responsive(1, 2, 3);

  @include large-up {
    grid-template-columns: repeat(4, 1fr);
  }
}
